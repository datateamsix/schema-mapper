# Schema Definition with Metadata
# Generated by schema-mapper
#
# This YAML file is the single source of truth for schema + metadata.
# It can be versioned alongside code and deployed across platforms.

table:
  name: user_events
  dataset: analytics
  description: User interaction events captured from web and mobile clients
  owner: analytics
  domain: product_analytics
  tags:
  - events
  - core
  - user_behavior
columns:
- name: event_id
  type: STRING
  nullable: false
  description: Unique identifier for the event
  source: client_sdk
  pii: false
  tags:
  - identifier
  - primary_key
  max_length: 255
- name: user_id
  type: BIGINT
  nullable: false
  description: User identifier (hashed for privacy)
  source: client_sdk
  pii: false
  tags:
  - identifier
  - foreign_key
- name: email
  type: STRING
  nullable: false
  description: User email address
  source: user_profile
  pii: true
  tags:
  - contact
  - sensitive
  max_length: 255
- name: event_type
  type: STRING
  nullable: false
  description: Type of user interaction (page_view, button_click, etc.)
  source: client_sdk
  pii: false
  tags:
  - categorical
  - event_classification
  max_length: 255
- name: event_date
  type: TIMESTAMP
  nullable: false
  description: Date when the event occurred (UTC)
  source: server
  pii: false
  tags:
  - temporal
  - partition_key
- name: revenue
  type: FLOAT
  nullable: false
  description: Revenue generated from this event (USD)
  source: payment_processor
  pii: false
  tags:
  - financial
  - metric
- name: session_duration_seconds
  type: BIGINT
  nullable: false
  description: Length of user session in seconds
  source: client_sdk
  pii: false
  tags:
  - metric
  - engagement
- name: created_at
  type: TIMESTAMP
  nullable: false
  description: Timestamp when event was recorded in database (UTC)
  source: server
  pii: false
  tags:
  - temporal
  - audit
optimization:
  partition_columns:
  - event_date
  cluster_columns:
  - user_id
  - event_type
